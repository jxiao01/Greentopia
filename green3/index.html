<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" href="/star.png" type="image/png">
    <meta charset="UTF-8">
    <title>DECONSTRUCTING GREENTOPIA</title>
    <style>

@font-face {
    font-family: 'ABCSyntRegular';
    src: url('ABCSynt-Regular.otf') format('opentype');
}

.effect-controls {
    position: absolute;
    right: 20px;
    top: 10%;
    transform: translateY(-50%);
    background: transparent;
    padding: 20px;
    border-radius: 8px;
    border: 1px solid var(--primary-color);
    z-index: 1000;
    width: 200px;
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.effect-control {
    display: flex;
    flex-direction: column;
    gap: 5px;
}

.effect-control label {
    color: var(--primary-color);
    font-size: 0.8em;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.effect-control label span {
    opacity: 0.7;
}

.effect-control input {
    width: 100%;
    -webkit-appearance: none;
    height: 4px;
    background: rgba(134, 255, 134, 0.1);
    border-radius: 2px;
    outline: none;
}

.effect-control input::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 12px;
    height: 12px;
    background: var(--primary-color);
    border-radius: 50%;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 0 10px var(--primary-color);
}

.effect-control input::-webkit-slider-thumb:hover {
    transform: scale(1.2);
}

.value-display {
    color: var(--primary-color);
    font-size: 0.8em;
    text-align: right;
}

.space-ripple {
    position: fixed;
    border: 2px solid var(--primary-color);
    border-radius: 50%;
    animation: rippleExpand 1s cubic-bezier(0.4, 0, 0.2, 1);
    pointer-events: none;
}

@keyframes rippleExpand {
    0% {
        width: 0;
        height: 0;
        opacity: 1;
    }
    100% {
        width: 500px;
        height: 500px;
        opacity: 0;
        transform: translate(-50%, -50%);
    }
}

.gallery-item:hover {
    box-shadow: 
        0 0 30px rgba(134, 255, 134, 0.2),
        0 0 60px rgba(134, 255, 134, 0.1);
    z-index: 1;
}

.container {
    perspective: 2000px;
    transform-style: preserve-3d;
}

.gallery-grid {
    transform-style: preserve-3d;
    transform: translateZ(0);
    transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}

.gallery-item {
    transform-style: preserve-3d;
    transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

.image-placeholder {
    transform-style: preserve-3d;
    position: relative;
    background: rgba(134, 255, 134, 0.05);
    backdrop-filter: blur(5px);
}

.ascii-container {
    transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}

.data-stream {
    transform: translateZ(20px);
    transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}


@keyframes gridFloat {
    0% { transform: perspective(1000px) rotateX(60deg) translateY(0); }
    100% { transform: perspective(1000px) rotateX(60deg) translateY(50px); }
}

    :root {
    --primary-color: #86ff86;
    --secondary-color: #4dff4d;
    --bg-color: F2F0EF;
    --text-color: #ffffff;
    --grid-size: 20px;
    --transition-speed: 0.5s;
    --font-primary: 'ABC Synt', monospace;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: var(--font-primary);
}

body {
    background-color: var(--bg-color);
    color: var(--text-color);
    font-family: 'ABCSyntRegular', sans-serif;
    overflow-x: hidden;
    min-height: 100vh;
}

.deconstruction-canvas {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    background: rgba(0, 12, 0, 0.95);
    filter: url(#ripple);
    animation: backgroundPulse 8s ease-in-out infinite;
}

@keyframes backgroundPulse {
    0%, 100% { 
        background: rgba(0, 12, 0, 0.95);
        filter: url(#ripple);
    }
    50% { 
        background: rgba(2, 14, 2, 0.95);
        filter: url(#magnetic);
    }
}

.ascii-container {
    position: fixed;
    top: 80%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: var(--primary-color);
    font-family: monospace;
    font-size: 24px;
    line-height: 1.2;
    white-space: pre;
    opacity: 0.6;
    z-index: -1;
    text-shadow: 0 0 5px var(--primary-color);
    transition: all 0.5s ease;
    scale: 2;
}

.container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 2rem;
    position: relative;
    z-index: 1;
}

.title-section {
    text-align: center;
    margin-bottom: 4rem;
    position: relative;
}

.glitch-title {
    font-size: 4rem;
    color: var(--primary-color);
    text-shadow: 0 0 10px var(--primary-color);
    position: relative;
    animation: glitchText 3s infinite;
}

.gallery-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin-top: 2rem;
}

.gallery-item {
    position: relative;
    height: 400px;
    background: rgba(134, 255, 134, 0.1);
    border: 1px solid var(--primary-color);
    overflow: hidden;
    transition: transform var(--transition-speed);
    cursor: pointer;
    backdrop-filter: blur(5px);
}

.gallery-item:hover {
    transform: scale(1.02);
}

.image-placeholder {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    color: var(--primary-color);
    position: relative;
}

.image-placeholder::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(45deg, 
        transparent 0%, 
        rgba(134, 255, 134, 0.1) 50%, 
        transparent 100%);
    animation: shine 2s infinite;
}

.data-stream {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 50%;
    height: auto;
    background: transparent;
    padding: 1rem;
    font-size: 0.8rem;
    color: var(--primary-color);
    overflow: hidden;
    z-index: 100;
}

.data-stream div {
    opacity: 0;
    transition: opacity 0.5s ease;
}

.stream-item {
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.5s ease;
    white-space: nowrap;
}

.stream-item.active {
    opacity: 1;
    transform: translateY(0);
}

.analysis-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.9);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.analysis-content {
    width: 80%;
    height: 80%;
    background: var(--bg-color);
    border: 2px solid var(--primary-color);
    padding: 2rem;
    position: relative;
    overflow-y: auto;
}

.close-button {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: transparent;
    border: 1px solid var(--primary-color);
    color: var(--primary-color);
    padding: 0.5rem 2rem;
    cursor: pointer;
    transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    border-radius: 0;
    font-family: var(--font-primary);
    letter-spacing: 1px;
    overflow: hidden;
    z-index: 2;
}

.close-button::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 0;
    height: 100%;
    background: var(--primary-color);
    transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: -1;
}

.close-button:hover {
    border-radius: 8px;
    transform: translateY(-2px);
    box-shadow: 0 0 15px rgba(134, 255, 134, 0.3);
    color: rgba(0, 10, 0, 0.9);
    letter-spacing: 2px;
}

.close-button:hover::before {
    width: 100%;
}

.close-button:active {
    transform: translateY(1px);
    box-shadow: 0 0 8px rgba(134, 255, 134, 0.2);
}


@keyframes glitchText {
    0%, 100% { transform: none; }
    92% { transform: skew(-2deg); }
    94% { transform: skew(2deg); }
    96% { transform: skew(-1deg); }
    98% { transform: skew(1deg); }
}

@keyframes shine {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

@media (max-width: 768px) {
    .gallery-grid {
        grid-template-columns: 1fr;
    }
    
    .glitch-title {
        font-size: 2.5rem;
    }
}

.wave-effect-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    overflow: hidden;
    z-index: 1;
}

.cloud-layer {
    position: absolute;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.2), transparent 60%);
    filter: blur(12px);
    opacity: 0.5;
    transition: opacity 1s ease, transform 1s ease;
}

.wave-effect-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    overflow: hidden;
    z-index: 1;
}

.cloud-layer {
    position: absolute;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.3), transparent 70%);
    filter: blur(15px);
    opacity: 0.5;
    transition: opacity 1s ease, transform 1s ease;
}


@keyframes cloudMotion0 {
    0% { transform: translate(-20%, -20%) scale(1.1) rotate(0deg); opacity: 0.5; }
    50% { transform: translate(20%, 20%) scale(1.2) rotate(10deg); opacity: 0.7; }
    100% { transform: translate(-20%, 20%) scale(1.1) rotate(-10deg); opacity: 0.5; }
}

@keyframes cloudMotion1 {
    0% { transform: translate(30%, -30%) scale(1.2) rotate(0deg); opacity: 0.4; }
    50% { transform: translate(-30%, 30%) scale(1.3) rotate(15deg); opacity: 0.6; }
    100% { transform: translate(30%, -30%) scale(1.2) rotate(-15deg); opacity: 0.4; }
}

@keyframes cloudMotion2 {
    0% { transform: translate(-35%, 35%) scale(1.25) rotate(0deg); opacity: 0.5; }
    50% { transform: translate(35%, -35%) scale(1.3) rotate(20deg); opacity: 0.7; }
    100% { transform: translate(-35%, 35%) scale(1.25) rotate(-20deg); opacity: 0.5; }
}


@keyframes spaceFloat {
    0% { 
        transform: translate(0, 0) scale(1.1) rotate(0deg);
    }
    20% { 
        transform: translate(2%, -3%) scale(1.13) rotate(1deg);
    }
    40% { 
        transform: translate(-1%, -1%) scale(1.15) rotate(-0.5deg);
    }
    60% { 
        transform: translate(-3%, 2%) scale(1.12) rotate(-1deg);
    }
    80% { 
        transform: translate(1%, 3%) scale(1.14) rotate(0.5deg);
    }
    100% { 
        transform: translate(0, 0) scale(1.1) rotate(0deg);
    }
}

.space-float {
    animation: spaceFloat 45s infinite ease-in-out;
    will-change: transform;
}

.gallery-item {
    transition: transform 0.3s ease-out, box-shadow 0.3s ease-out;
    will-change: transform, box-shadow;
}

.gallery-item:hover {
    transform: translateZ(20px) scale(1.02);
    box-shadow: 
        0 0 30px rgba(134, 255, 134, 0.2),
        0 0 60px rgba(134, 255, 134, 0.1);
    z-index: 1;
}

.gallery-item::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    opacity: 0;
    box-shadow: 
        0 0 30px rgba(134, 255, 134, 0.2),
        0 0 60px rgba(134, 255, 134, 0.1);
    transition: opacity 0.3s ease-out;
    pointer-events: none;
}

.analysis-details {
    font-family: var(--font-primary);
    line-height: 1.6;
    padding: 20px;
    color: var(--primary-color);
    text-shadow: 0 0 10px rgba(134, 255, 134, 0.3);
}

.cursor {
    display: inline-block;
    width: 2px;
    animation: blink 1s infinite;
    margin-left: 2px;
}

@keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
}


.time-progress-container {
    position: fixed;
    bottom: 50px;
    left: 50%;
    transform: translateX(-50%);
    width: 400px;
    text-align: center;
    z-index: 1000;
}

.wave-progress {
    height: 40px;
    background: rgba(134, 255, 134, 0.05);
    border: 1px solid var(--primary-color);
    position: relative;
    overflow: hidden;
    margin-bottom: 15px;
    border-radius: 20px;
    box-shadow: 0 0 15px rgba(134, 255, 134, 0.2);
}

.wave-bar {
    position: absolute;
    height: 100%;
    background: linear-gradient(
        90deg,
        rgba(134, 255, 134, 0.3),
        rgba(134, 255, 134, 0.4)
    );
    left: 0;
    top: 0;
    width: 0%;
    transition: width 0.3s ease-out;
    border-radius: 20px;
}

.wave-bar::before, .wave-bar::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 200%;
    height: 100%;
    animation-duration: 4s;
    animation-timing-function: linear;
    animation-iteration-count: infinite;
    background-image: linear-gradient(
        45deg,
        rgba(134, 255, 134, 0.2) 25%,
        transparent 25%,
        transparent 50%,
        rgba(134, 255, 134, 0.2) 50%,
        rgba(134, 255, 134, 0.2) 75%,
        transparent 75%
    );
    background-size: 30px 30px;
    opacity: 0.5;
}

.wave-bar::before {
    animation-name: waveMove;
    background-size: 20px 20px;
}

.wave-bar::after {
    animation-name: waveMove2;
    background-size: 15px 15px;
    opacity: 0.3;
}

.time-display {
    position: absolute;
    width: 100%;
    text-align: center;
    line-height: 40px;
    color: var(--primary-color);
    text-shadow: 0 0 10px var(--primary-color);
    font-family: 'ABCSyntRegular', monospace;
    z-index: 1;
    font-size: 18px;
    letter-spacing: 2px;
    mix-blend-mode: screen;
}

.wave-progress::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(134, 255, 134, 0.1),
        transparent
    );
    animation: shine 2s linear infinite;
    pointer-events: none;
}

@keyframes waveMove {
    0% { transform: translateX(-50%) translateY(0%); }
    100% { transform: translateX(0%) translateY(0%); }
}

@keyframes waveMove2 {
    0% { transform: translateX(0%) translateY(0%); }
    100% { transform: translateX(-50%) translateY(0%); }
}

@keyframes shine {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

.next-page-btn {
    background: transparent;
    border: 1px solid var(--primary-color);
    color: var(--primary-color);
    padding: 12px 24px;
    font-family: 'ABCSyntRegular', monospace;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
    border-radius: 15px;
    font-size: 14px;
    letter-spacing: 1.5px;
    backdrop-filter: blur(5px);
}

.next-page-btn:hover {
    background: rgba(134, 255, 134, 0.1);
    text-shadow: 0 0 10px var(--primary-color);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(134, 255, 134, 0.2);
}

.next-page-btn:active {
    transform: translateY(0px);
}

@keyframes pulse {
    0% { box-shadow: 0 0 0 0 rgba(134, 255, 134, 0.4); }
    70% { box-shadow: 0 0 0 10px rgba(134, 255, 134, 0); }
    100% { box-shadow: 0 0 0 0 rgba(134, 255, 134, 0); }
}

.wave-progress {
    animation: pulse 2s infinite;
}


.time-display {
    transition: transform 0.3s ease;
}

.time-display.updating {
    transform: scale(1.1);
}


    </style>
</head>
<body>

    <svg style="position: absolute; width: 0; height: 0;" aria-hidden="true">
        <defs>
            <filter id="ripple" x="-50%" y="-50%" width="200%" height="200%">
                <feTurbulence 
                    type="turbulence" 
                    baseFrequency="0.025" 
                    numOctaves="2" 
                    result="turbulence">
                    <animate 
                        attributeName="baseFrequency" 
                        dur="10s" 
                        values="0.025;0.015;0.025" 
                        repeatCount="indefinite"/>
                </feTurbulence>
                <feDisplacementMap 
                    in="SourceGraphic" 
                    in2="turbulence" 
                    scale="15"/>
            </filter>
    
            <filter id="magnetic">
                <feGaussianBlur stdDeviation="2" result="blur"/>
                <feDisplacementMap 
                    in="SourceGraphic" 
                    in2="blur" 
                    scale="20" 
                    xChannelSelector="R" 
                    yChannelSelector="G"/>
            </filter>
    
            <filter id="glitch">
                <feTurbulence 
                    type="fractalNoise" 
                    baseFrequency="0.01" 
                    numOctaves="1" 
                    result="noise">
                    <animate 
                        attributeName="seed" 
                        from="0" 
                        to="100" 
                        dur="0.5s" 
                        repeatCount="indefinite"/>
                </feTurbulence>
                <feColorMatrix
                    type="saturate"
                    values="0"
                    result="noiseGray"/>
                <feColorMatrix
                    in="noiseGray"
                    type="matrix"
                    values="1 0 0 0 0
                            0 1 0 0 0
                            0 0 1 0 0
                            0 0 0 1 -0.5"
                    result="noiseBW"/>
                <feComposite
                    in="SourceGraphic"
                    in2="noiseBW"
                    operator="arithmetic"
                    k1="0"
                    k2="1"
                    k3="1"
                    k4="0"/>
            </filter>
        </defs>
    </svg>

    <div class="time-progress-container">
        <div class="wave-progress">
            <div class="wave-bar"></div>
            <div class="time-display">90</div>
        </div>
        <button class="next-page-btn">PROCEED TO NEXT PHASE</button>
    </div>
    

    <div class="effect-controls">
        <div class="effect-control">
            <label>Glow Intensity <span>✧</span></label>
            <input type="range" id="glowControl" min="0" max="100" value="0">
        </div>
        <div class="effect-control">
            <label>Wave Effect <span>≋</span></label>
            <input type="range" id="waveControl" min="0" max="100" value="0">
        </div>
        <div class="effect-control">
            <label>Pixel Scatter <span>⌘</span></label>
            <input type="range" id="scatterControl" min="0" max="100" value="0">
        </div>
        <div class="effect-control">
            <label>Matrix Rain <span>⚡</span></label>
            <input type="range" id="matrixControl" min="0" max="100" value="0">
        </div>
    </div>

    

    <div class="ascii-container"></div>

    <div class="grid-background"></div>
    
    <div class="container">
        <div class="title-section">
            <h1 class="glitch-title">DECONSTRUCTING GREENTOPIA</h1>
        </div>

        <div class="gallery-grid">
            <div class="gallery-item" data-type="concept">
                <div class="image-placeholder">
                    STRUCTURE
                    <div class="analysis-data" hidden>
                        Greentopia’s paths twist like whispered lies,
                        A maze of promises unkept,
                        Where corridors narrow and light fades thin,
                        Each corner meant to dazzle but falls to rust.
                        Its beauty is brittle, painted, brief,
                        A kingdom built on words alone—
                        An echo of life, an illusion of green.
                    </div>
                </div>
            </div>
            <div class="gallery-item" data-type="structure">
                <div class="image-placeholder">
                    AESTHETICS
                    <div class="analysis-data" hidden>
                        Greentopia flaunts a borrowed face,
                        Cultures plucked and patched askew,
                        Its walls adorned in gaudy hues,
                        A mockery draped in foreign grace.
                        An “exotic” splendor, bold and brash,
                        Layered with symbols stolen, misaligned,
                        Trying to blend the world within—
                        But the seams split under scrutiny’s gaze.
                    </div>
                </div>
            </div>
            <div class="gallery-item" data-type="system">
                <div class="image-placeholder">
                    LANGUAGE
                    <div class="analysis-data" hidden>
                        Greentopia speaks in gilded tones,
                        With promises that soar like verdant oaths:
                        “A paradise of lush retreat,” they say,
                        “An Eden kissed by nature’s breath.”
                        But the words drift hollow on the wind,
                        Lies woven into tangled vines,
                        Where glamour fades, and truth decays.
                    </div>
                </div>
            </div>
            <div class="gallery-item" data-type="impact">
                <div class="image-placeholder">
                    TEXTURE
                    <div class="analysis-data" hidden>
                        Its textures sing of glossed-over charm,
                        Where polished leaves hide wilted truths,
                        And roots bear the scars of neglect.
                        What once seemed vibrant in the frame
                        Becomes brittle under touch—
                        The soil dry, the air thick,
                        A place kept alive by stories, not care.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="analysis-overlay">
        <div class="analysis-content">
            <button class="close-button">Close</button>
            <div class="analysis-details"></div>
        </div>
    </div>

    <div class="data-stream"></div>

    <script>

document.addEventListener('DOMContentLoaded', () => {
    class DetectorArt {
        constructor() {
            this.container = document.createElement('div');
            this.container.className = 'detector-container';
            document.body.appendChild(this.container);
            
            this.patterns = [
                `
  ┌──────────────────┐
  │ ▀▄▀▄▀▄░░░░░░░░░ │
  │ ▄▀▄▀▄▀░░░░░░░░░ │
  │ [ANALYZING...]   │
  │     ░░░░░░░     │
  │ ─── ░░░░░░ ───  │
  └──────────────────┘`,

                `
  ┌──────────────────┐
  │ ▄▀▄▀▄▀░░░░░░░░░ │
  │ ▀▄▀▄▀▄░░░░░░░░░ │
  │ [PROCESSING..]   │
  │     ░░░░░░░     │
  │ ═══ ░░░░░░ ═══  │
  └──────────────────┘`,

                `
  ┌──────────────────┐
  │ ▀▄▀▄▀▄░░░░░░░░░ │
  │ ▄▀▄▀▄▀░░░░░░░░░ │
  │ [SCANNING...]    │
  │     ░░░░░░░     │
  │ ─── ░░░░░░ ───  │
  └──────────────────┘`
            ];

            const style = document.createElement('style');
            style.textContent = `
                .detector-container {
                    position: fixed;
                    bottom: 80px;
                    right: 20px;
                    color: var(--primary-color);
                    font-family: monospace;
                    font-size: 12px;
                    line-height: 1.2;
                    white-space: pre;
                    opacity: 0.8;
                    z-index: 99;
                    text-shadow: 0 0 5px var(--primary-color);
                    transition: all 0.3s ease;
                }
            `;
            document.head.appendChild(style);

            this.currentPattern = 0;
            this.initAnimation();
        }

        initAnimation() {
            this.container.textContent = this.patterns[0];
            
            setInterval(() => {
                this.currentPattern = (this.currentPattern + 1) % this.patterns.length;
                this.container.textContent = this.patterns[this.currentPattern];
                
                this.container.style.opacity = '1';
                setTimeout(() => {
                    this.container.style.opacity = '0.8';
                }, 100);
            }, 800);

            document.addEventListener('dataStreamUpdate', (e) => {
                this.respondToDataStream(e.detail.message);
            });
        }

        respondToDataStream(message) {
            const customPattern = `
  ┌──────────────────┐
  │ ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀ │
  │ ▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄ │
  │ ${message.slice(0, 14).padEnd(14, ' ')} │
  │     ▀▄▀▄▀▄▀     │
  │ ═══ ░░░░░░ ═══  │
  └──────────────────┘`;
            
            this.container.textContent = customPattern;
            this.container.style.opacity = '1';
            
            setTimeout(() => {
                this.container.style.opacity = '0.8';
            }, 300);
        }
    }

    class ASCIIHouse {
        constructor() {
            this.container = document.createElement('div');
            this.container.className = 'ascii-container';
            document.body.appendChild(this.container);
            
            this.patterns = [
                `
      /\\\\\\\\\\\\\\
     /  \\\\\\\\\\\\
    /    \\\\\\\\\\
   /      \\\\\\\\
  /        \\\\\\
 /          \\\\
/            \\
+-----------+
|  [][][]   |
|  ______   |
| |      |  |
| |      |  |
| |      |  |
| |      |  |
| |      |  |
|_|______|__|`,

                `
     /\\\\\\\\\\
    /  \\\\\\\\
   /    \\\\\\
  /      \\\\
 /        \\
/     
+---------
|  [][]   
|  ____   
| |    |  
| |    |  
| |    |  
|_|____|_ `,

                `
    /\\\\
   /  \\\\
  /    \\
 /     
/      
+----
|  [] 
|  __
| |  
| |  
| |  
|_|_ `,

                `
\\          /
 \\        /
  \\      /
   \\    /
    \\  /
     \\/
    ____
   |    |
   |    |
   |    |
   |____|`,

                `
      /\\\\\\\\\\\\\\
     /  \\\\\\\\\\\\
    /    \\\\\\\\\\
   /      \\\\\\\\
  /        \\\\\\
 /==========\\\\
/            \\
+------------+
|   [][]]    |
|   ______   |
|  |      |  |
|  |      |  |
|  |      |  |
|__|______|__|`
            ];
            
            this.currentPattern = 0;
            this.chars = [];
            this.targetChars = [];
            this.initializeAnimation();
        }

        initializeAnimation() {
            this.setPattern(this.patterns[0]);
            this.animate();
            
            setInterval(() => {
                this.currentPattern = (this.currentPattern + 1) % this.patterns.length;
                this.setPattern(this.patterns[this.currentPattern]);
            }, 1000);
        }

        setPattern(pattern) {
            const lines = pattern.split('\n');
            this.targetChars = lines.join('').split('');
            
            if (this.chars.length === 0) {
                this.chars = this.targetChars.map(char => ({
                    current: char,
                    target: char,
                    x: (Math.random() - 0.5) * 100,
                    y: (Math.random() - 0.5) * 100
                }));
            } else {
                this.chars.forEach((char, i) => {
                    char.target = this.targetChars[i] || ' ';
                });
            }
        }

        animate() {
            let output = '';
            let currentLine = 0;
            let charsInLine = 0;
            
            this.chars.forEach(char => {
                char.x += (0 - char.x) * 0.1;
                char.y += (0 - char.y) * 0.1;
                
                if (char.current !== char.target) {
                    if (Math.random() < 0.3) {
                        char.current = char.target;
                    }
                }
                
                output += char.current;
                charsInLine++;
                
                if (charsInLine >= this.patterns[0].split('\n')[currentLine]?.length || char.current === '\n') {
                    output += '\n';
                    currentLine++;
                    charsInLine = 0;
                }
            });
            
            this.container.textContent = output;
            requestAnimationFrame(() => this.animate());
        }
    }

    function updateDataStream() {
        const streamData = [
            'Analyzing environmental impact...',
            'Processing sustainability metrics...',
            'Calculating resource efficiency...',
            'Monitoring energy consumption...',
            'Evaluating carbon footprint...'
        ];
        
        const text = streamData[Math.floor(Math.random() * streamData.length)];
        const streamLine = document.createElement('div');
        streamLine.textContent = text;
        streamLine.style.opacity = '0';
        dataStream.appendChild(streamLine);
        
        const event = new CustomEvent('dataStreamUpdate', {
            detail: { message: text }
        });
        document.dispatchEvent(event);
        
        requestAnimationFrame(() => {
            streamLine.style.opacity = '1';
            streamLine.style.transition = 'opacity 0.5s ease';
        });
        
        if (dataStream.children.length > 10) {
            dataStream.removeChild(dataStream.children[0]);
        }
    }


    const asciiHouse = new ASCIIHouse();
    const detector = new DetectorArt();
    

    const dataStream = document.querySelector('.data-stream');
    setInterval(updateDataStream, 2000);
    updateDataStream();


    const galleryItems = document.querySelectorAll('.gallery-item');
    const analysisOverlay = document.querySelector('.analysis-overlay');
    const analysisContent = document.querySelector('.analysis-details');
    const closeButton = document.querySelector('.close-button');

class InfiniteTypeWriter {
    constructor(element, text, options = {}) {
        this.element = element;
        this.text = text;
        this.options = {
            typeSpeed: options.typeSpeed || 50,
            deleteSpeed: options.deleteSpeed || 30,
            pauseBeforeDelete: options.pauseBeforeDelete || 2000,
            pauseBeforeType: options.pauseBeforeType || 500
        };
        this.isRunning = false;
        this.currentText = '';
    }

    start() {
        this.isRunning = true;
        this.typeText();
    }

    stop() {
        this.isRunning = false;
        this.currentText = '';
        this.element.innerHTML = '';
    }

    async typeText() {
        if (!this.isRunning) return;

        for (let i = 0; i <= this.text.length; i++) {
            if (!this.isRunning) return;
            this.currentText = this.text.substring(0, i);
            this.updateDisplay();
            await this.wait(this.options.typeSpeed);
        }

        await this.wait(this.options.pauseBeforeDelete);
        for (let i = this.text.length; i >= 0; i--) {
            if (!this.isRunning) return;
            this.currentText = this.text.substring(0, i);
            this.updateDisplay();
            await this.wait(this.options.deleteSpeed);
        }

        await this.wait(this.options.pauseBeforeType);

        if (this.isRunning) {
            this.typeText();
        }
    }

    updateDisplay() {
        this.element.innerHTML = `${this.currentText}<span class="cursor">|</span>`;
    }

    wait(ms) {
        return new Promise(resolve => setTimeout(resolve, ms));
    }
}

let currentTypewriter = null;

galleryItems.forEach(item => {
    item.addEventListener('click', () => {
        const analysisData = item.querySelector('.analysis-data').textContent;
        analysisContent.innerHTML = '';
        
        if (currentTypewriter) {
            currentTypewriter.stop();
        }

        analysisOverlay.style.display = 'flex';

        currentTypewriter = new InfiniteTypeWriter(analysisContent, analysisData, {
            typeSpeed: 40,
            deleteSpeed: 20,
            pauseBeforeDelete: 3000,
            pauseBeforeType: 800
        });
        currentTypewriter.start();
    });
});

if (closeButton) {
    closeButton.addEventListener('click', () => {
        if (currentTypewriter) {
            currentTypewriter.stop();
        }
        analysisOverlay.style.display = 'none';
    });
}

document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && analysisOverlay.style.display === 'flex') {
        if (currentTypewriter) {
            currentTypewriter.stop();
        }
        analysisOverlay.style.display = 'none';
    }
});

    if (closeButton) {
        closeButton.addEventListener('click', () => {
            analysisOverlay.style.display = 'none';
        });
    }


    document.addEventListener('mousemove', (e) => {
        if (Math.random() > 0.8) {
            createParticle(e.clientX, e.clientY);
        }
    });

    function createParticle(x, y) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.left = x + 'px';
        particle.style.top = y + 'px';
        particle.style.width = Math.random() * 4 + 2 + 'px';
        particle.style.height = particle.style.width;
        
        document.body.appendChild(particle);
        
        const angle = Math.random() * Math.PI * 2;
        const velocity = Math.random() * 100 + 50;
        const vx = Math.cos(angle) * velocity;
        const vy = Math.sin(angle) * velocity;
        
        particle.style.transform = `translate(${vx}px, ${vy}px)`;
        
        setTimeout(() => particle.remove(), 1000);
    }


    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && analysisOverlay.style.display === 'flex') {
            analysisOverlay.style.display = 'none';
        }
    });
});

function initializeSpaceInteractions() {
    const container = document.querySelector('.container');
    const galleryGrid = document.querySelector('.gallery-grid');
    const asciiContainer = document.querySelector('.ascii-container');
    
    let mouseX = 0;
    let mouseY = 0;
    let targetRotationX = 0;
    let targetRotationY = 0;
    let currentRotationX = 0;
    let currentRotationY = 0;

    document.addEventListener('mousemove', (e) => {
        mouseX = (e.clientX / window.innerWidth) * 2 - 1;
        mouseY = (e.clientY / window.innerHeight) * 2 - 1;
        
        targetRotationX = mouseY * 10;
        targetRotationY = mouseX * 10;
    });

    function updateRotation() {
        currentRotationX += (targetRotationX - currentRotationX) * 0.05;
        currentRotationY += (targetRotationY - currentRotationY) * 0.05;

        galleryGrid.style.transform = `
            translateZ(50px)
            rotateX(${-currentRotationX}deg)
            rotateY(${currentRotationY}deg)
        `;

        asciiContainer.style.transform = `
            translate(-50%, -50%)
            translateZ(30px)
            rotateX(${currentRotationX * 0.5}deg)
            rotateY(${-currentRotationY * 0.5}deg)
            scale(2)
        `;

        requestAnimationFrame(updateRotation);
    }

    updateRotation();

    document.addEventListener('click', (e) => {
        const ripple = document.createElement('div');
        ripple.className = 'space-ripple';
        ripple.style.left = e.clientX + 'px';
        ripple.style.top = e.clientY + 'px';
        document.body.appendChild(ripple);

        setTimeout(() => ripple.remove(), 1000);
    });

    document.querySelectorAll('.gallery-item').forEach(item => {
        item.addEventListener('mouseenter', () => {
            item.style.transform = 'translateZ(100px) scale(1.05)';
            const rect = item.getBoundingClientRect();
            createSpaceParticles(rect);
        });

        item.addEventListener('mouseleave', () => {
            item.style.transform = 'translateZ(0) scale(1)';
        });
    });
}

function createSpaceParticles(rect) {
    for (let i = 0; i < 10; i++) {
        const particle = document.createElement('div');
        particle.className = 'space-particle';
        
        const x = rect.left + Math.random() * rect.width;
        const y = rect.top + Math.random() * rect.height;
        
        particle.style.cssText = `
            position: fixed;
            left: ${x}px;
            top: ${y}px;
            width: 2px;
            height: 2px;
            background: var(--primary-color);
            box-shadow: 0 0 10px var(--primary-color);
            pointer-events: none;
        `;
        
        document.body.appendChild(particle);
        
        const angle = Math.random() * Math.PI * 2;
        const velocity = 2 + Math.random() * 4;
        const vx = Math.cos(angle) * velocity;
        const vy = Math.sin(angle) * velocity;
        
        particle.animate([
            { transform: 'translate(0, 0) scale(1)', opacity: 1 },
            { transform: `translate(${vx * 50}px, ${vy * 50}px) scale(0)`, opacity: 0 }
        ], {
            duration: 1000,
            easing: 'cubic-bezier(0.4, 0, 0.2, 1)'
        }).onfinish = () => particle.remove();
    }
}


initializeSpaceInteractions();

function initializeSpecialEffects() {
    const glowControl = document.getElementById('glowControl');
    const waveControl = document.getElementById('waveControl');
    const scatterControl = document.getElementById('scatterControl');
    const matrixControl = document.getElementById('matrixControl');
    

    glowControl.addEventListener('input', (e) => {
        const intensity = e.target.value / 100;
        document.querySelectorAll('.gallery-item').forEach(item => {
            item.style.boxShadow = `0 0 ${intensity * 50}px rgba(134, 255, 134, ${intensity * 0.5})`;
        });
        document.documentElement.style.setProperty('--primary-glow', `${intensity * 10}px`);
    });


    let waveAnimation;
    waveControl.addEventListener('input', (e) => {
        const intensity = e.target.value / 100;
        if (intensity > 0) {
            if (!waveAnimation) {
                waveAnimation = createWaveEffect();
            }
            waveAnimation.style.opacity = intensity;
        } else if (waveAnimation) {
            waveAnimation.style.opacity = 0;
        }
    });


    scatterControl.addEventListener('input', (e) => {
    const intensity = e.target.value / 100;

    document.querySelectorAll('.gallery-item').forEach(item => {
        createPixelScatter(item, intensity);
    });
});


    matrixControl.addEventListener('input', (e) => {
        const intensity = e.target.value / 100;
        if (intensity > 0) {
            createMatrixRain(intensity);
        } else {
            removeMatrixRain();
        }
    });
}

let waveAnimation;

function applyWaveEffect(container) {
    const waveContainer = document.createElement('div');
    waveContainer.className = 'wave-effect-container';
    waveContainer.style.cssText = `
        position: absolute;
        top: 50%;
        left: 50%;
        width: 100px;
        height: 100px;
        transform: translate(-50%, -50%);
        pointer-events: none;
        overflow: visible;
        z-index: 1;
    `;


    for (let i = 0; i < 50; i++) {
        const waveParticle = document.createElement('div');
        waveParticle.className = 'wave-particle';
        const size = Math.random() * 6 + 3;
        waveParticle.style.cssText = `
            position: absolute;
            width: ${size}px;
            height: ${size}px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            animation: waveMotion ${1 + Math.random() * 2}s ease-out infinite;
        `;
        waveContainer.appendChild(waveParticle);
    }

    container.style.position = 'relative';
    container.appendChild(waveContainer);
}


document.querySelectorAll('.gallery-item[data-type="concept"], .gallery-item[data-type="structure"], .gallery-item[data-type="system"], .gallery-item[data-type="impact"]').forEach(applyWaveEffect);




let scatterIntensity = 0;
const scatterPixels = [];

function createPixelScatter(element, intensity) {

    const existingPixels = element.querySelectorAll('.scatter-pixel');
    existingPixels.forEach(pixel => pixel.remove());


    const numParticles = Math.floor(intensity * 50);

    for (let i = 0; i < numParticles; i++) {
        const particle = document.createElement('div');
        particle.className = 'scatter-pixel';
        

        const size = Math.random() * 3 + 1;
        const opacity = 0.3 + Math.random() * 0.7;
        
        particle.style.cssText = `
            position: absolute;
            width: ${size}px;
            height: ${size}px;
            background: radial-gradient(circle, rgba(255, 255, 255, ${opacity}) 0%, transparent 60%);
            top: ${Math.random() * 100}%;
            left: ${Math.random() * 100}%;
            border-radius: 50%;
            pointer-events: none;
        `;
        
        element.appendChild(particle);

   
        const translateZ = Math.random() * 50 - 25;
        const translateX = Math.random() * 100 - 50;
        const translateY = Math.random() * 100 - 50;
        
        particle.animate([
            { transform: `translate3d(0px, 0px, 0px) scale(1)`, opacity: opacity },
            { transform: `translate3d(${translateX}px, ${translateY}px, ${translateZ}px) scale(${0.5 + Math.random() * 1.5})`, opacity: opacity * 0.8 }
        ], {
            duration: 3000 + Math.random() * 2000,
            easing: 'ease-in-out',
            direction: 'alternate',
            iterations: Infinity
        });
    }
}


scatterControl.addEventListener('input', (e) => {
    scatterIntensity = e.target.value / 100;
    document.querySelectorAll('.gallery-item').forEach(item => {
        createPixelScatter(item, scatterIntensity);
    });
});

let matrixRainCanvas;
let activeMatrixInstance = null;

function createMatrixRain(intensity) {
    if (activeMatrixInstance) {
        activeMatrixInstance.cleanup();
        activeMatrixInstance = null;
    }

    const container = document.createElement('div');
    container.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
        overflow: hidden;
    `;

    const bgContainer = document.createElement('div');
    bgContainer.style.cssText = `
        position: absolute;
        top: -5%;
        left: -5%;
        width: 110%;
        height: 110%;
        transform-origin: center center;
        filter: url(#ripple);
    `;
    bgContainer.className = 'space-float';

    const bgImage = new Image();
    bgImage.style.cssText = `
        width: 100%;
        height: 100%;
        object-fit: cover;
        opacity: 0.3;
    `;
    bgImage.src = 'house1.png';
    bgContainer.appendChild(bgImage);

    matrixRainCanvas = document.createElement('canvas');
    matrixRainCanvas.style.cssText = `
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        opacity: ${intensity * 1.2};
        mix-blend-mode: overlay;
    `;

    container.appendChild(bgContainer);
    container.appendChild(matrixRainCanvas);
    document.body.appendChild(container);

    const ctx = matrixRainCanvas.getContext('2d', {
        alpha: true,
        willReadFrequently: false
    });


    const messages = [
        'a vibrant place',
        'unique setting',
        'an oasis',
        'magical place',
        'balance'
    ];

    const fontSize = 12;
    let columns, drops, messageIndexes;
    let lastRender = 0;
    const FRAME_INTERVAL = 1000 / 24;


    const precomputedChars = messages.join('').split('');
    const charsLength = precomputedChars.length;

    function initializeArrays() {

        columns = Math.floor(matrixRainCanvas.width / (fontSize * 1.5));
        drops = new Float32Array(columns);
        messageIndexes = new Uint8Array(columns);
        
        for (let i = 0; i < columns; i++) {
            drops[i] = Math.random() * -100;
            messageIndexes[i] = Math.floor(Math.random() * charsLength);
        }
    }


    let bufferCanvas;
    let bufferCtx;

    function createBuffer() {
        bufferCanvas = document.createElement('canvas');
        bufferCanvas.width = matrixRainCanvas.width;
        bufferCanvas.height = matrixRainCanvas.height;
        bufferCtx = bufferCanvas.getContext('2d', {
            alpha: true,
            willReadFrequently: false
        });
        

        bufferCtx.font = `${fontSize}px "ABC Synt"`;
        bufferCtx.textAlign = 'center';
        bufferCtx.fillStyle = '#86ff86';
    }

    function drawMatrix(timestamp) {
        if (timestamp - lastRender < FRAME_INTERVAL) {
            requestAnimationFrame(drawMatrix);
            return;
        }
        lastRender = timestamp;

        bufferCtx.clearRect(0, 0, bufferCanvas.width, bufferCanvas.height);
        
        bufferCtx.fillStyle = 'rgba(0, 0, 0, 0.1)';
        bufferCtx.fillRect(0, 0, bufferCanvas.width, bufferCanvas.height);
        bufferCtx.fillStyle = '#86ff86';
        
        for (let i = 0; i < columns; i += 2) {
            const char = precomputedChars[messageIndexes[i]];
            
            bufferCtx.globalAlpha = 0.8;
            bufferCtx.fillText(
                char,
                i * fontSize * 1.5,
                Math.floor(drops[i]) * fontSize
            );

            if(drops[i] * fontSize > bufferCanvas.height) {
                drops[i] = 0;
                messageIndexes[i] = Math.floor(Math.random() * charsLength);
            }
            drops[i] += 0.5;
        }

        ctx.clearRect(0, 0, matrixRainCanvas.width, matrixRainCanvas.height);
        ctx.drawImage(bufferCanvas, 0, 0);

        requestAnimationFrame(drawMatrix);
    }


    let resizeTimeout;
    function updateCanvasSize() {
        const rect = matrixRainCanvas.getBoundingClientRect();
        const width = rect.width;
        const height = rect.height;
        
        matrixRainCanvas.width = width;
        matrixRainCanvas.height = height;
        
        createBuffer();
        initializeArrays();
    }

    window.addEventListener('resize', () => {
        clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(updateCanvasSize, 250);
    });

    updateCanvasSize();
    requestAnimationFrame(drawMatrix);

    return {
        cleanup: () => {
            window.removeEventListener('resize', updateCanvasSize);
            container.remove();
            if (bufferCanvas) bufferCanvas.remove();
        }
    };
}

let sliderTimeout;
matrixControl.addEventListener('input', (e) => {
    clearTimeout(sliderTimeout);
    sliderTimeout = setTimeout(() => {
        const intensity = e.target.value / 100;
        if (intensity > 0) {
            createMatrixRain(intensity);
        } else if (matrixRainCanvas) {
            const container = matrixRainCanvas.parentElement;
            if (container) {
                container.remove();
            }
            matrixRainCanvas = null;
        }
    }, 100);
});

const styleSheet = document.createElement('style');
styleSheet.textContent = `
    @keyframes waveMove {
        0% { transform: translate(-100%, -100%) rotate(45deg); }
        100% { transform: translate(100%, 100%) rotate(45deg); }
    }
    
    @keyframes pixelFloat {
        0% { transform: translate(0, 0); }
        50% { transform: translate(
            ${Math.random() * 20 - 10}px,
            ${Math.random() * 20 - 10}px
        ); }
        100% { transform: translate(0, 0); }
    }
`;
document.head.appendChild(styleSheet);

glowControl.addEventListener('input', (e) => {
    const intensity = e.target.value / 100;
    document.querySelectorAll('.gallery-item').forEach(item => {
        item.style.boxShadow = `0 0 ${intensity * 50}px rgba(134, 255, 134, ${intensity * 0.5})`;
    });
});



document.addEventListener('DOMContentLoaded', () => {
    const totalTime = 90;
    let timeLeft = totalTime;
    const progressBar = document.querySelector('.wave-bar');
    const timeDisplay = document.querySelector('.time-display');
    const nextBtn = document.querySelector('.next-page-btn');
    let clickCount = 0;
    
    
    const timer = setInterval(() => {
        timeLeft--;
        const progress = ((totalTime - timeLeft) / totalTime) * 100;
        progressBar.style.width = `${progress}%`;
        timeDisplay.textContent = timeLeft;
        
        if (timeLeft <= 0) {
            clearInterval(timer);
            window.location.href = nextPageUrl;
        }
    }, 1000);
    
    nextBtn.addEventListener('click', () => {
        clickCount++;
        
        if (clickCount === 1 && timeLeft > 0) {
            const warning = document.createElement('div');
            warning.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: rgba(0, 0, 0, 0.8);
                border: 1px solid var(--primary-color);
                color: var(--primary-color);
                padding: 20px;
                z-index: 1001;
                text-align: center;
                font-family: 'ABCSyntRegular', monospace;
                animation: fadeIn 0.3s ease;
            `;
            warning.textContent = `You still have ${timeLeft} seconds...\nBut you can proceed if you click again.`;
            document.body.appendChild(warning);
            
            setTimeout(() => {
                warning.style.animation = 'fadeOut 0.3s ease';
                setTimeout(() => warning.remove(), 300);
            }, 2000);
            
        } else {
            window.location.href = '/green4/';
        }
    });

    nextBtn.addEventListener('mouseover', () => {
        progressBar.style.setProperty('--glow-intensity', '0.4');
    });

    nextBtn.addEventListener('mouseout', () => {
        const progress = ((totalTime - timeLeft) / totalTime) * 100;
        updateProgressBarEffects(progress);
    });
});

        
    </script>
</body>
</html>